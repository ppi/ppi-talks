<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>PPI - The PHP Interoperability Framework</title>

    <meta name="description" content="The PHP Interoperability Framework">
    <meta name="author" content="Paul Dragoonis, Vítor Brandão">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/ppi.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>        <![endif]-->
</head>
<body>
<div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <img data-src="images/ppi-logo-white.png" id="ppi-logo" width="30%">

            <h2>The PHP Interoperability Framework</h2>
            <img data-src="images/phpsw-1.jpg" width="25%">
        </section>

        <section class="vitor-and-paul">
            <div class="half">
                <img src="images/dr4goonis.jpg" class="avatar">
                <h4>Paul Dragoonis</h4>
                <ul>
                    <li><a href="https://twitter.com/dr4goonis">@dr4goonis</a></li>
                    <li>QA Lead / Lead Developer at <a href="https://www.kainos.com/">Kainos</a></li>
                    <li><a href="http://php.net/">php.net</a> and <a href="http://www.php-fig.org/">PHP-FIG</a> member
                    </li>
                </ul>
            </div>

            <div class="half">
                <img src="images/noiselabs.jpg" class="avatar">
                <h4>Vítor Brandão</h4>
                <ul>
                    <li><a href="https://twitter.com/noiselabs">@noiselabs</a></li>
                    <li>Bug Squasher at <a href="https://www.kainos.com/">Kainos</a></li>
                    <li>QA at <a href=https://www.gentoo.org/">Gentoo Linux</a></li>
                </ul>
            </div>
        </section>

        <section>

            <h2>Agenda</h2>

            <p class="fragment">1. Why it exists? What gap does it fill?</p>

            <p class="fragment">2. How we built it - technical overview</p>

            <p class="fragment">3. Practical examples</p>


        </section>


        <!-- Section 1 -->

        <section>
            <h2>1. Why it exists?</h2>
            <h4>What gap does it fill?</h4>
        </section>

        <section>
            <h2>P.P.I.?</h2>

            <p class="fragment">
                <span class="fragment">Hmm.. what does it stand for?</span>
            </p>
            <ul>
                <li class="fragment"><b style="font-size: larger">P</b>H<b style="font-size: larger;">P</b></li>
                <li class="fragment"><b style="font-size: larger">I</b>nteroperability</li>
            </ul>
            <blockquote class="fragment">
                OH, great, another framework. Did you just create this yesterday?
            </blockquote>
            <p class="fragment"><span class="fragment">Yes.</span><span class="fragment">.. actually... no.</span></p>

            <p class="fragment">PPI has been around for more than <b>9</b> years now!</p>
            <p class="fragment">PPI version 2.0 was released <b>3</b> years ago</p>
        </section>

        <section>
            <img src="images/which-is-the-best-quality-ppi.png" width="80%">
            <blockquote>PPI PHP Meta Framework is the best PPI PHP Meta Framework!</blockquote>
        </section>

        <section>
            <h2>Why does PPI exist?</h2>
            <h3>What problems does it solve?</h3>

            <p class="fragment">Currently, existing frameworks impose a 1-to-1 relationship between your framework app and the framework
                vendor</p>

            <p class="fragment">What issues does this cause?</p>
            <p class="fragment">vendor lock-in</p>
            <!--you’re locked into choosing packages made by the same vendor as the framework you’re-->
            <!--using. aka “putting all your eggs in the one basket” - you can’t take your code with you - you can’t-->
            <!--pull in code from other frameworks and have it mostly just “work” - Gets you “off the island”-->

        </section>

        <section>
            <h2>Vendor Lock-In</h2>
            <p><img src="images/vendor-lock-in.png"></p>
        </section>

        <section>
            <h4>Example of Vendor Lock-In</h4>
            <p class="fragment"><img src="images/vendor-lock-in-example.png"> </p>
        </section>

        <section>
            <h4>Problems with Vendor Lock-In</h4>
            <p class="fragment">You are tightly coupled to the framework that your app was build on</p>
            <p class="fragment">You can't move your code between apps on different frameworks</p>
            <p class="fragment">

                you’re locked into choosing packages made by the same vendor as the framework you’re
                using. aka “putting all your eggs in the one basket”

                you can’t take your code with you
            </p>

            <p class="fragment">you can’t pull in code from other frameworks and have it mostly just “work”</p>
            <p class="fragment">Gets you “off the island”</p>

        </section>

        <section>
            <h2>What PPI is not</h2>

            <p class="fragment">PPI is <strong>*not*</strong> Payment Protection Insurance</p>

            <p class="fragment">PPI is <strong>*not*</strong> a framework introducing anything new to you.</p>

            <p class="fragment">It’s using existing code from existing frameworks that you already know</p>

        </section>

        <section>
            <h2>Benefits of PPI</h2>
            <p class="fragment">Re-usability of knowledge and community effort!</p>
            <p class="fragment">As PHP grows, PPI will grow (Zend3, Aura3, Symfony3)</p>
        </section>

        <section data-background="images/starship-troopers.jpg"></section>

        <!-- Section 2 -->
        <section>
            <h2>2. What's inside?</h2>
            <h4>PPI nuts & bolts</h4>
            <p><img src="images/ppi-engine-breakdown.png" width="90%"></p>
        </section>

        <section>
            <h2>Leverage PHP-FIG standards</h2>
            <aside class="notes">
                <ol>
                    <li>PPI takes advantage of PHP Standard Recommendations to provide an environment where 3rd-party
                        code can be plugged-in and work with zero rewrites.</li>
                    <li>Early adopt PSR standards and provide a real-life Proof of Concept for these standards.</li>
                </ol>
            </aside>
            <p class="fragment">A friendly environment for swappable 3rd-party components.</p>
            <p class="fragment">Components may be PSR-ready or potential candidates (<span class="pre">Router</span>).</p>
            <p class="fragment">Spearhead PHP-FIG concepts and ideas with a real-life POC for these standards.</p>
        </section>

        <section>
            <h2>PSRs - What's in // what's coming?</h2>
            <p class="fragment half"><img src="images/psr7-accepted.png"></p>
            <p class="fragment half"><img src="images/psr7-review.png"></p>
        </section>

        <section>
            <h2>PSR-6 Caching Interface</h2>
            <p>In production for over 1 year now, but PSR-6 still not finished.</p>
            <p><code><pre>
namespace PPI\CacheModule\Cache\Driver;

use PPI\CacheModule\Cache\CacheItem;
use PPI\CacheModule\Cache\CacheInterface;

class RedisCache implements CacheInterface {
    // ...
}</pre></code></p>
            <p>Other implementations: <span class="pre">APC, Disk, Memcached, Memory, Xcache</span>.</p>
        </section>

        <section>
            <h2>PSR-7 HTTP Message Interface</h2>
            <p><img src="images/psr7-tweet-calevans-quorum-has-been-meet.png"></p>
        </section>
        <section>
            <h2>PSR-7 HTTP Message Interface</h2>
            <p class="fragment">PPI is PSR-7 ready!</p>
            <p class="fragment">You can easily adding more libraries into the mix when they implement PSR-7.</p>
            <p class="fragment">For now: PPI does the Request object mediation. (i.e: AuraRouterWrapper)</p>
        </section>
        <section>
            <h2>PSR-7 HTTP Message Interface</h2>
                <pre> composer.json:<code>"require": {
    "psr/http-message": "^0.11"
}</code></pre>
                    <pre> PPI/Framework/Http/Request.php<code>use Psr\Http\Message\RequestInterface;
use Symfony\Component\HttpFoundation\Request as SymfonyHttpRequest;

/**
 * HTTP messages consist of requests from a client to a server and
 * responses from a server to a client. This interface defines the
 * methods common to each.
 */
class Request extends SymfonyHttpRequest implements RequestInterface
{
    // ...
} </code></pre></section>
        <section>
            <h2>PSR-7 HTTP Message Interface</h2>
            <p>Want to know more? <span class="fragment">Ask this guy!&nbsp;=>&nbsp;<img src="images/geeh-1.jpg"></span></p>
        </section>

        <section>
            <h4>PPI Module extends ZF2 Module</h4>
            <p><img src="images/module-structure.png"></p>
        </section>

        <section>
            <h4>PPI Module With Routers</h4>
            <p><img src="images/module-structure-with-routers.png"></p>
        </section>

        <section>
            <h4>PPI Module With Templating Engines</h4>
            <p><img src="images/module-structure-with-templating.png"></p>
        </section>

        <section>
            <h4>Object Mediation<br>No abstraction! :-)</h4>
            <p>No added abstraction on top of existing framework</p>
            <p><img src="images/object_mediation.png"></p>
        </section>

        <section>
            <h4>Module1 Rest API Module</h4>
            <p><img src="images/module1.png"></p>
        </section>

        <section>
            <h4>Module2 MVC Full Stack App</h4>
            <p><img src="images/module2.png"></p>
        </section>

        <section>
            <h4>Module3 MVC Full Stack App</h4>
            <p><img src="images/module3.png"></p>
        </section>

        <section>
            <h4>PPI Router</h4>
            <p class="fragment">We made a routing interoperability layer (Routing PSR?)</p>
            <p class="fragment">Mediate routing and request information from PPI to Aura (for example)</p>
            <p class="fragment">If a Routing PSR is created, we get to throw away a lot of code</p>
        </section>

        <section>
            <p><img src="images/chain-router.png" width="90%"></p>
        </section>

        <section data-background="images/starship-troopers.jpg">
        </section>

        <section>
            <h2>3. Practical Examples</h2>
            <h4>Using PPI</h4>
        </section>

        <section>
            <p class="fragment">composer create-project -sdev --no-interaction ppi/skeleton-app /var/www/skeleton</p>
        </section>

        <section>
            <h4>Application structure</h4>
            <pre> public/index.php<code>
                // All relative paths start from the main directory, not from /public/
                chdir(dirname(__DIR__));

                // Setup autoloading and include PPI
                require_once 'app/init.php';

                // Set the environment
                $env     = getenv('PPI_ENV') ?: 'dev';
                $debug   = getenv('PPI_DEBUG') !== '0'  && $env !== 'prod';

                // Create...
                $app = new PPI\Framework\App(array(
                'environment'   => $env,
                'debug'         => $debug,
                'rootDir'       => realpath(__DIR__.'/../app')
                ));

                $app->loadConfig($app->getEnvironment().'/app.php');

                $app->run();

            </code></pre>
        </section>


        <section>
            <h3>Module Structure</h3>
            <pre><code>
                ├── Application
                │   ├── Module.php
                │   ├── resources
                │   │   ├── config
                │   │   │   └── config.yml
                │   │   ├── routes
                │   │   │   ├── aura.php
                │   │   │   └── symfony.yml
                │   │   └── views
                │   │       └── index
                │   │           ├── index.html.mustache
                │   │           ├── index.html.php
                │   │           ├── index.html.smarty
                │   │           └── index.html.twig
                │   └── src
                │       ├── Classes
                │       │   └── CommunityHelper.php
                │       ├── Controller
                │       │   ├── Index.php
                │       │   └── Shared.php
            </code></pre>
        </section>

        <section>
            <h4>Module Code</h4>
<pre><code>class Module extends AbstractModule
{
    public function getRoutes()
    {
        return $this->getSymfonyRoutes();
        // or
        return $this->getAuraRoutes();
    }

    public function getAuraRoutes()
    {
        return $this->loadAuraRoutes(__DIR__ . '/resources/routes/aura.php');
    }

    public function getSymfonyRoutes()
    {
        return $this->loadYamlRoutes(__DIR__ . '/resources/routes/symfony.yml');
    }

    public function getConfig()
    {
        return $this->loadConfig(__DIR__ . '/resources/config/config.yml');
    }
</code></pre>
        </section>


        <!--<section>-->
        <!--<p class="fragment">Gitter / Good old IRC - </p>-->
        <!--<p class="fragment">@ppi_framework // @dr4goonis // @noiselabs - docs.ppi.io (RTFM!)</p>-->
        <!--</section>-->



        <section>
            <h2>Point of View</h2>

            <p class="fragment">
                Press <strong>ESC</strong> to enter the slide overview. </p>

            <p class="fragment">
                Hold down alt and click on any element to zoom in on it using <a
                    href="http://lab.hakim.se/zoom-js">zoom.js</a>. Alt + click anywhere to zoom back out. </p>
        </section>

        <section data-transition="slide" data-background="#b5533c" data-background-transition="zoom">
            <h2>Background Transitions</h2>

            <p class="fragment">
                You can override background transitions per-slide. </p>
            <pre><code style="word-wrap: break-word;">&lt;section data-background-transition="zoom"&gt;</code></pre>
        </section>

        <section>
            <h2>Pretty Code</h2>
					<pre><code data-trim contenteditable> function linkify( selector ) { if( supports3DTransforms ) {

                        var nodes = document.querySelectorAll( selector );

                        for( var i = 0, len = nodes.length; i &lt; len; i++ ) { var node = nodes[i];

                        if( !node.className ) { node.className += ' roll'; } } } } </code></pre>
            <p class="fragment">Code syntax highlighting courtesy of <a
                    href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
        </section>

        <section>
            <h2>Marvelous List</h2>
            <ul>
                <li>No order here</li>
                <li>Or here</li>
                <li>Or here</li>
                <li>Or here</li>
            </ul>
        </section>

        <section>
            <h2>Fantastic Ordered List</h2>
            <ol>
                <li>One is smaller than...</li>
                <li>Two is smaller than...</li>
                <li>Three!</li>
            </ol>
        </section>

        <section>
            <h2>Clever Quotes</h2>

            <p class="fragment">
                These guys come in two forms, inline: <q
                    cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
                &ldquo;The nice thing about standards is that there are so many to choose from&rdquo;</q> and block:
            </p>
            <blockquote
                    cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
                &ldquo;For years there has been a theory that millions of monkeys typing at random on millions of
                typewriters would reproduce the entire works of Shakespeare. The Internet has proven this theory to be
                untrue.&rdquo;
            </blockquote>
        </section>






    </div>
    <div class='footer'>
        <a href="https://twitter.com/ppi_framework">@ppi_framework</a>
    </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script>
    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom
        transitionSpeed: 'default', // default/fast/slow

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });
</script>
</body>
</html>
